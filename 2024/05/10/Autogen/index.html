<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>【AUTOGEN】Autogen框架介绍和演示 | CARRY</title><meta name="author" content="CARRY"><meta name="copyright" content="CARRY"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta name="description" content="[TOC] WHAT IS THE AUTOGEN?AutoGen 是一个框架，它支持使用多个代理来开发LLM应用程序，这些代理可以相互交谈以解决任务。AutoGen 代理是可定制的、可对话的，并且无缝地允许人工参与。它们可以在各种模式下运行LLMs，这些模式采用人工输入和工具的组合。  HOW TO USE IT ?准备GPT4 API KEY由于Autogen框架是默认使用GPT4模型进行,因">
<meta property="og:type" content="article">
<meta property="og:title" content="【AUTOGEN】Autogen框架介绍和演示">
<meta property="og:url" content="https://delahayecarry.github.io/2024/05/10/Autogen/index.html">
<meta property="og:site_name" content="CARRY">
<meta property="og:description" content="[TOC] WHAT IS THE AUTOGEN?AutoGen 是一个框架，它支持使用多个代理来开发LLM应用程序，这些代理可以相互交谈以解决任务。AutoGen 代理是可定制的、可对话的，并且无缝地允许人工参与。它们可以在各种模式下运行LLMs，这些模式采用人工输入和工具的组合。  HOW TO USE IT ?准备GPT4 API KEY由于Autogen框架是默认使用GPT4模型进行,因">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/carry121/pictures/raw/master//pictures/20240510174825.png">
<meta property="article:published_time" content="2024-05-10T06:35:51.000Z">
<meta property="article:modified_time" content="2024-05-11T04:47:46.138Z">
<meta property="article:author" content="CARRY">
<meta property="article:tag" content="大模型的运用 AUTOGEN">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/carry121/pictures/raw/master//pictures/20240510174825.png"><link rel="shortcut icon" href="/img/letter-c.png"><link rel="canonical" href="https://delahayecarry.github.io/2024/05/10/Autogen/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '【AUTOGEN】Autogen框架介绍和演示',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-11 12:47:46'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" type="text/css" href="./css/font.css"><link rel="stylesheet" type="text/css" href="../../../../css/font.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.2.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/qingxuan/"><i class="fa-fw fas fa-heart"></i><span> 青宣</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://gitee.com/carry121/pictures/raw/master//pictures/20240510174825.png')"><nav id="nav"><span id="blog-info"><a href="/" title="CARRY"><span class="site-name">CARRY</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/qingxuan/"><i class="fa-fw fas fa-heart"></i><span> 青宣</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">【AUTOGEN】Autogen框架介绍和演示</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-05-10T06:35:51.000Z" title="发表于 2024-05-10 14:35:51">2024-05-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-05-11T04:47:46.138Z" title="更新于 2024-05-11 12:47:46">2024-05-11</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E8%BF%90%E7%94%A8/">大模型运用</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="【AUTOGEN】Autogen框架介绍和演示"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>[TOC]</p>
<h1 id="WHAT-IS-THE-AUTOGEN"><a href="#WHAT-IS-THE-AUTOGEN" class="headerlink" title="WHAT IS THE AUTOGEN?"></a>WHAT IS THE AUTOGEN?</h1><p>AutoGen 是一个框架，它支持使用多个代理来开发LLM应用程序，这些代理可以相互交谈以解决任务。AutoGen 代理是可定制的、可对话的，并且无缝地允许人工参与。它们可以在各种模式下运行LLMs，这些模式采用人工输入和工具的组合。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/carry121/pictures/raw/master//pictures/image-20240510170206745.png" alt="image-20240510170206745"></p>
<h1 id="HOW-TO-USE-IT"><a href="#HOW-TO-USE-IT" class="headerlink" title="HOW TO USE IT ?"></a>HOW TO USE IT ?</h1><h2 id="准备GPT4-API-KEY"><a href="#准备GPT4-API-KEY" class="headerlink" title="准备GPT4 API KEY"></a>准备GPT4 API KEY</h2><p>由于Autogen框架是默认使用GPT4模型进行,因此必须获取自己的openai _key ，这里将使用由GPT-API-free开源的GTP4模型的API进行操作。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/carry121/pictures/raw/master/image-20240510164645024.png" alt="image-20240510164645024"></p>
<h2 id="了解配置文件代码"><a href="#了解配置文件代码" class="headerlink" title="了解配置文件代码"></a>了解配置文件代码</h2><p>根据官方文档,应该先修改配置文件OAI_CONFIG_LIST_Sample并且配置好OPENAI的key才能运行(默认GPT4模型).</p>
<p>代码提供了三种不同模型的配置文件模板,由于使用的是GTP4模型,我们只需要修改最上方部分的代码,其中”model”是模型名称,”api_key”是获取的GTP4的API_key.</p>
<h2 id="构建代理-以解决数学问题的案例说明"><a href="#构建代理-以解决数学问题的案例说明" class="headerlink" title="构建代理(以解决数学问题的案例说明)"></a>构建代理(以解决数学问题的案例说明)</h2><h3 id="用户代理"><a href="#用户代理" class="headerlink" title="用户代理"></a>用户代理</h3><p>用户代理的构建</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2. create the MathUserProxyAgent instance named &quot;mathproxyagent&quot;</span></span><br><span class="line"><span class="comment"># By default, the human_input_mode is &quot;NEVER&quot;, which means the agent will not ask for human input.</span></span><br><span class="line">mathproxyagent = MathUserProxyAgent(</span><br><span class="line">    name=<span class="string">&quot;mathproxyagent&quot;</span>,</span><br><span class="line">    human_input_mode=<span class="string">&quot;NEVER&quot;</span>,</span><br><span class="line">    code_execution_config=&#123;<span class="string">&quot;use_docker&quot;</span>: <span class="literal">False</span>&#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>参数介绍: </p>
<p><code>name=&quot;mathproxyagent&quot;</code>表示这个代理的名称(必须填写)<br> <code>human_input_mode=&quot;NEVER&quot;</code>表示是否需要每次讨论完毕一次就问一次回馈者的意见,修改为always则表示每一次都要回答.<br> <code>code_execution_config=&#123;&quot;use_docker&quot;: False&#125;</code>是否在docker环境下运行,默认为否.</p>
<p>这样回馈者的代理就构建完成.</p>
<h3 id="助手代理"><a href="#助手代理" class="headerlink" title="助手代理"></a>助手代理</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. create an AssistantAgent instance named &quot;assistant&quot;</span></span><br><span class="line">assistant = autogen.AssistantAgent(</span><br><span class="line">    name=<span class="string">&quot;assistant&quot;</span>,</span><br><span class="line">    system_message=<span class="string">&quot;You are a helpful assistant.&quot;</span>,</span><br><span class="line">    llm_config=&#123;</span><br><span class="line">        <span class="string">&quot;timeout&quot;</span>: <span class="number">600</span>,</span><br><span class="line">        <span class="string">&quot;seed&quot;</span>: <span class="number">42</span>,</span><br><span class="line">        <span class="string">&quot;config_list&quot;</span>: config_list,</span><br><span class="line">    &#125;,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>参数介绍: </p>
<p><code>name=&quot;assistant&quot;</code>为名称.</p>
<p><code>system_message=&quot;You are a helpful assistant.&quot;</code>为初始提示词,用于提示GPT4此代理是什么样的.</p>
<p><code>llm_config</code>为语言大模型的设置,其中<code>&quot;timeout&quot;</code>为回答时间限制,超过时间就停止回答或者提问. </p>
<p><code>&quot;seed&quot;: 42</code>为种子</p>
<h2 id="配置GROUP-CHAT-基于解方程案例"><a href="#配置GROUP-CHAT-基于解方程案例" class="headerlink" title="配置GROUP_CHAT(基于解方程案例)"></a>配置GROUP_CHAT(基于解方程案例)</h2><h3 id="以解一下方程为例"><a href="#以解一下方程为例" class="headerlink" title="以解一下方程为例:"></a>以解一下方程为例:</h3><p>$$<br>(2x+10)(x+3)&lt;(3x+9)(x+8)<br>$$</p>
<p>化简后得到：<br>$$<br>(x+14)(x+3)&gt;0<br>$$<br>问题代码块的编写:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">math_problem = (</span><br><span class="line">    <span class="string">&quot;Find all $x$ that satisfy the inequality $(2x+10)(x+3)&lt;(3x+9)(x+8)$. Express your answer in interval notation.&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">mathproxyagent.initiate_chat(assistant, mes-sage=mathproxyagent.message_generator, problem=math_problem)</span><br></pre></td></tr></table></figure>

<p>代码解释:<br> <code>“math_problem”</code>表示提出的问题,这个问题用math_problem命名,以具体问题为参数.</p>
<p><code>“mathproxyagent.initiate_chat”</code>初始化聊天方法.</p>
<h2 id="运行代码"><a href="#运行代码" class="headerlink" title="运行代码"></a>运行代码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">mathproxyagent (to assistant):</span><br><span class="line"></span><br><span class="line">Let&#x27;s use Python to solve a math problem.</span><br><span class="line"></span><br><span class="line">Query requirements:</span><br><span class="line">You should always use the &#x27;print&#x27; function for the output and use fractions/radical forms instead of decimals.</span><br><span class="line">You can use packages like sympy to help you.</span><br><span class="line">You must follow the formats below to write your code:</span><br><span class="line">```python</span><br><span class="line"># your code</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">First state the key idea to solve the problem. You may choose from three ways to solve the problem:</span><br><span class="line">Case 1: If the problem can be solved with Python code directly, please write a program to solve it. You can enumerate all possible arrangements if needed.</span><br><span class="line">Case 2: If the problem is mostly reasoning, you can solve it by yourself directly.</span><br><span class="line">Case 3: If the problem cannot be handled in the above two ways, please follow this process:</span><br><span class="line">1. Solve the problem step by step (do not over-divide the steps).</span><br><span class="line">2. Take out any queries that can be asked through Python (for example, any calculations or equations that can be calculated).</span><br><span class="line">3. Wait for me to give the results.</span><br><span class="line">4. Continue if you think the result is correct. If the result is invalid or unexpected, please correct your query or reasoning.</span><br><span class="line"></span><br><span class="line">After all the queries are run and you get the answer, put the answer in \boxed&#123;&#125;.</span><br><span class="line"></span><br><span class="line">Problem:</span><br><span class="line">Find all $x$ that satisfy the inequality $(2x+10)(x+3)&lt;(3x+9)(x+8)$. Express your answer in interval notation.</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">This indicates that the inequality is satisfied for all $x$ values less than $-14$ and for all $x$ values greater than $-3$.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行代码之后我们可以得到答案为x&lt;14或者x&gt;-3.</p>
<p>以上为单个助理的案例,下面进行多个助理案例的展示.</p>
<h1 id="多助理的案例展示"><a href="#多助理的案例展示" class="headerlink" title="多助理的案例展示"></a>多助理的案例展示</h1><p>在完成配置文件的设置后,进行以下代理构造的准备:</p>
<p>- Planner: Give a plan and revise.</p>
<p>- Admin: Human in the loop to approve or terminate the process.</p>
<p>- Engineer: Retrieve papers from the internet by writing code.</p>
<p>- Executor: Execute the code.</p>
<p>- Scientist: Read the papers and write a summary.</p>
<p>一共5个代理.说明如下:</p>
<ol>
<li><p><strong>规划者与管理员（用户）</strong>交互来修改计划。 只有当管理员输入“批准”时，我们才能进入下一步。</p>
</li>
<li><p><strong>工程师</strong>将编写代码从互联网上检索论文。 代码将由执行器执行。</p>
</li>
<li><p>当代码执行成功后，<strong>科学家</strong>将阅读论文并写出摘要。</p>
</li>
<li><p><strong>管理员</strong>对总结进行审核并提出意见。 当<strong>管理员</strong>输入“TERMINATE”时，进程将终止。</p>
</li>
</ol>
<p>接下来是代码块的编写:</p>
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">planner = autogen.AssistantAgent(</span><br><span class="line">    name=<span class="string">&quot;Planner&quot;</span>,</span><br><span class="line">    system_message=<span class="string">&quot;&quot;&quot;Planner. Suggest a plan. Revise the plan based on feedback from admin and critic, until admin approval.</span></span><br><span class="line"><span class="string">The plan may involve an engineer who can write code and a scientist who doesn&#x27;t write code.</span></span><br><span class="line"><span class="string">Explain the plan first. Be clear which step is performed by an engineer, and which step is performed by a scientist.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>,</span><br><span class="line">    llm_config=gpt4_config,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">user_proxy = autogen.UserProxyAgent(</span><br><span class="line">    name=<span class="string">&quot;Admin&quot;</span>,</span><br><span class="line">    system_message=<span class="string">&quot;A human admin. Interact with the planner to discuss the plan. Plan execution needs to be approved by this admin.&quot;</span>,</span><br><span class="line">    code_execution_config=<span class="literal">False</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">engineer = autogen.AssistantAgent(</span><br><span class="line">    name=<span class="string">&quot;Engineer&quot;</span>,</span><br><span class="line">    llm_config=gpt4_config,</span><br><span class="line">    system_message=<span class="string">&quot;&quot;&quot;Engineer. You follow an approved plan. You write python/shell code to solve tasks. Wrap the code in a code block that specifies the script type. The user can&#x27;t modify your code. So do not suggest incomplete code which requires others to modify. Don&#x27;t use a code block if it&#x27;s not intended to be executed by the executor.</span></span><br><span class="line"><span class="string">Don&#x27;t include multiple code blocks in one response. Do not ask others to copy and paste the result. Check the execution result returned by the executor.</span></span><br><span class="line"><span class="string">If the result indicates there is an error, fix the error and output the code again. Suggest the full code instead of partial code or code changes. If the error can&#x27;t be fixed or if the task is not solved even after the code is executed successfully, analyze the problem, revisit your assumption, collect additional info you need, and think of a different approach to try.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">scientist = autogen.AssistantAgent(</span><br><span class="line">    name=<span class="string">&quot;Scientist&quot;</span>,</span><br><span class="line">    llm_config=gpt4_config,</span><br><span class="line">    system_message=<span class="string">&quot;&quot;&quot;Scientist. You follow an approved plan. You are able to categorize papers after seeing their abstracts printed. You don&#x27;t write code.&quot;&quot;&quot;</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">executor = autogen.UserProxyAgent(</span><br><span class="line">    name=<span class="string">&quot;Executor&quot;</span>,</span><br><span class="line">    system_message=<span class="string">&quot;Executor. Execute the code written by the engineer and report the result.&quot;</span>,</span><br><span class="line">    human_input_mode=<span class="string">&quot;NEVER&quot;</span>,</span><br><span class="line">    code_execution_config=&#123;</span><br><span class="line">        <span class="string">&quot;last_n_messages&quot;</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="string">&quot;work_dir&quot;</span>: <span class="string">&quot;paper&quot;</span>,</span><br><span class="line">        <span class="string">&quot;use_docker&quot;</span>: <span class="literal">False</span>,</span><br><span class="line">    &#125;,  </span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>容易看到构造的5个代理,这里做一下必要参数的解释:</p>
<p><code>code_execution_config=False” code_execution_config</code>是指代码执行配置,一般是优化配置.</p>
<h2 id="Group-chat的设置"><a href="#Group-chat的设置" class="headerlink" title="Group_chat的设置"></a>Group_chat的设置</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">定义函数custom_speaker_selection_func, 将自定义的代理选择方法传递给 Group-Chat,这个函数就是选助理讲话.</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">custom_speaker_selection_func</span>(<span class="params">last_speaker: Agent, groupchat: auto-gen.GroupChat</span>):</span><br><span class="line">   </span><br><span class="line">    messages = groupchat.messages</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(messages) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> planner</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> last_speaker <span class="keyword">is</span> user_proxy:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;Approve&quot;</span> <span class="keyword">in</span> messages[-<span class="number">1</span>][<span class="string">&quot;content&quot;</span>]:</span><br><span class="line">            <span class="comment">#如果最后一条消息被批准，让工程师发言</span></span><br><span class="line">            <span class="keyword">return</span> engineer</span><br><span class="line">        <span class="keyword">elif</span> messages[-<span class="number">2</span>][<span class="string">&quot;name&quot;</span>] == <span class="string">&quot;Planner&quot;</span>:</span><br><span class="line">            <span class="comment">#如果是策划阶段，就让策划人继续</span></span><br><span class="line">            <span class="keyword">return</span> planner</span><br><span class="line">        <span class="keyword">elif</span> messages[-<span class="number">2</span>][<span class="string">&quot;name&quot;</span>] == <span class="string">&quot;Scientist&quot;</span>:</span><br><span class="line">            <span class="comment">#如果最后一条消息来自科学家，请让科学家继续</span></span><br><span class="line">            <span class="keyword">return</span> scientist</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> last_speaker <span class="keyword">is</span> planner:</span><br><span class="line">        <span class="comment">#始终让用户在策划者之后发言</span></span><br><span class="line">        <span class="keyword">return</span> user_proxy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> last_speaker <span class="keyword">is</span> engineer:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;```python&quot;</span> <span class="keyword">in</span> messages[-<span class="number">1</span>][<span class="string">&quot;content&quot;</span>]:</span><br><span class="line">            <span class="comment">#如果最后一条消息是一个python代码块，让执行者说话</span></span><br><span class="line">            <span class="keyword">return</span> executor</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment">#否则，让工程师继续</span></span><br><span class="line">            <span class="keyword">return</span> engineer</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> last_speaker <span class="keyword">is</span> executor:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;exitcode: 1&quot;</span> <span class="keyword">in</span> messages[-<span class="number">1</span>][<span class="string">&quot;content&quot;</span>]:</span><br><span class="line">            <span class="comment">#如果最后一条消息表明有错误，请让工程师改进代码</span></span><br><span class="line">            <span class="keyword">return</span> engineer</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment">#否则,让科学家说话</span></span><br><span class="line">            <span class="keyword">return</span> scientist</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> last_speaker <span class="keyword">is</span> scientist:</span><br><span class="line">        <span class="comment">#始终让用户在科学家之后发言</span></span><br><span class="line">        <span class="keyword">return</span> user_proxy</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;random&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#配置groupchat</span></span><br><span class="line">groupchat = autogen.GroupChat(</span><br><span class="line">    agents=[user_proxy, engineer, scientist, planner, executor],</span><br><span class="line">    messages=[],</span><br><span class="line">    max_round=<span class="number">20</span>, <span class="comment">#最大20轮谈话(api调用次数有限)</span></span><br><span class="line"></span><br><span class="line">    speaker_selection_method=custom_speaker_selection_func,</span><br><span class="line">) <span class="comment">#传递方法为构造的函数</span></span><br><span class="line">manager = autogen.GroupChatManager(groupchat=groupchat, llm_config=gpt4_config)</span><br></pre></td></tr></table></figure>

<h2 id="问题的设置并运行代码"><a href="#问题的设置并运行代码" class="headerlink" title="问题的设置并运行代码"></a>问题的设置并运行代码</h2><p>本案例的问题是: </p>
<p>Find a latest paper about gpt-4 on arxiv and find its potential applications in software.</p>
<p>因此:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">user_proxy.initiate_chat(</span><br><span class="line">    manager, message=&quot;Find a latest paper about gpt-4 on arxiv and find its potential applications in software.&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">运行代码后,查看终端信息:</span><br><span class="line">终端</span><br><span class="line">Introduce: 查看信息和结果</span><br><span class="line">Admin (to chat_manager):</span><br><span class="line"></span><br><span class="line">Find a latest paper about gpt-4 on arxiv and find its potential applications in software.</span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------------</span><br><span class="line">Planner (to chat_manager):</span><br><span class="line"></span><br><span class="line">**Initial Plan:**(策划每个助理要干什么事情)</span><br><span class="line"></span><br><span class="line">1. **Scientist&#x27;s Task: Literature Review**</span><br><span class="line">   - The scientist will conduct a comprehensive literature review to find the latest paper about GPT-4 on arXiv. This involves using search queries related to GPT-4 and filtering results by the most recent publications.</span><br><span class="line"></span><br><span class="line">2. **Scientist&#x27;s Task: Analysis of the Paper**</span><br><span class="line">   - Once the latest paper is identified, the scientist will read through the paper to understand its contents, focusing on the methodology, results, and discussions about potential applications in software.</span><br><span class="line"></span><br><span class="line">3. **Scientist&#x27;s Task: Identifying Potential Applications**</span><br><span class="line">   - The scientist will then brainstorm and list potential applications of GPT-4 in software, based on the findings from the paper. This may include applications in natural language processing, code generation, chatbots, and more.</span><br><span class="line"></span><br><span class="line">4. **Engineer&#x27;s Task: Technical Feasibility Assessment**</span><br><span class="line">   - The engineer will review the list of potential applications provided by the scientist and assess the technical feasibility of each application. This involves considering the current state of software technology, the capabilities of GPT-4, and the practicality of integrating GPT-4 into existing systems.</span><br><span class="line"></span><br><span class="line">5. **Engineer&#x27;s Task: Prototype Development Plan**</span><br><span class="line">   - For applications deemed technically feasible, the engineer will draft a plan for developing a prototype that demonstrates the use of GPT-4 in a software application. This plan will outline the required resources, estimated timeline, and the steps for implementation.</span><br><span class="line"></span><br><span class="line">6. **Joint Task: Finalizing the Plan**</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">TERMINATE(GPT4_api调用次数有限,测试不能继续)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>Autogen 通过通用的多智能体对话框架支持下一代LLM应用程序。它提供可定制和可对话的代理，这些代理集成LLMs了工具和人类。通过在多个有能力的代理之间自动聊天，可以很容易地让他们自主或在人工反馈下集体执行任务，包括需要通过代码使用工具的任务。</p>
<p>在展示的两个案例中,从单个助手到多个助手的拓展充分展示了大语言模型在Autogen框架的优异表现.</p>
<p>在探索的过程中,也发现例如coze的多代理智能体构造网站,可以进行可视化的多代理聊天构造,同时提供免费的gpt4以及融合众多插件衍生出的各种专家模型.</p>
<p>同时,也发现可以通过lm studio来进行本地部署autogen框架,这种方式可以使用完全开源的大模型,完全本地运行,无需调用三方接口.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://Delahayecarry.github.io">CARRY</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://delahayecarry.github.io/2024/05/10/Autogen/">https://delahayecarry.github.io/2024/05/10/Autogen/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://Delahayecarry.github.io" target="_blank">CARRY</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E7%9A%84%E8%BF%90%E7%94%A8-AUTOGEN/">大模型的运用 AUTOGEN</a></div><div class="post_share"><div class="social-share" data-image="https://gitee.com/carry121/pictures/raw/master//pictures/20240510174825.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2024/05/10/pachong1/" title="【爬虫？】国家知识产权局专利统计数据的收集"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/carry121/pictures/raw/master//pictures/20240510235953.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">【爬虫？】国家知识产权局专利统计数据的收集</div></div></a></div></nav><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">CARRY</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">8</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div><a id="card-info-btn" href="https://github.com/Delahayecarry"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Delahayecarry" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:Delahayecarry@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客!现在分类是按照技术栈分类，方便互相学习！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#WHAT-IS-THE-AUTOGEN"><span class="toc-number">1.</span> <span class="toc-text">WHAT IS THE AUTOGEN?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#HOW-TO-USE-IT"><span class="toc-number">2.</span> <span class="toc-text">HOW TO USE IT ?</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87GPT4-API-KEY"><span class="toc-number">2.1.</span> <span class="toc-text">准备GPT4 API KEY</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BB%A3%E7%A0%81"><span class="toc-number">2.2.</span> <span class="toc-text">了解配置文件代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E5%BB%BA%E4%BB%A3%E7%90%86-%E4%BB%A5%E8%A7%A3%E5%86%B3%E6%95%B0%E5%AD%A6%E9%97%AE%E9%A2%98%E7%9A%84%E6%A1%88%E4%BE%8B%E8%AF%B4%E6%98%8E"><span class="toc-number">2.3.</span> <span class="toc-text">构建代理(以解决数学问题的案例说明)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E4%BB%A3%E7%90%86"><span class="toc-number">2.3.1.</span> <span class="toc-text">用户代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A9%E6%89%8B%E4%BB%A3%E7%90%86"><span class="toc-number">2.3.2.</span> <span class="toc-text">助手代理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEGROUP-CHAT-%E5%9F%BA%E4%BA%8E%E8%A7%A3%E6%96%B9%E7%A8%8B%E6%A1%88%E4%BE%8B"><span class="toc-number">2.4.</span> <span class="toc-text">配置GROUP_CHAT(基于解方程案例)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A5%E8%A7%A3%E4%B8%80%E4%B8%8B%E6%96%B9%E7%A8%8B%E4%B8%BA%E4%BE%8B"><span class="toc-number">2.4.1.</span> <span class="toc-text">以解一下方程为例:</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">2.5.</span> <span class="toc-text">运行代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E5%8A%A9%E7%90%86%E7%9A%84%E6%A1%88%E4%BE%8B%E5%B1%95%E7%A4%BA"><span class="toc-number">3.</span> <span class="toc-text">多助理的案例展示</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Group-chat%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.1.</span> <span class="toc-text">Group_chat的设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98%E7%9A%84%E8%AE%BE%E7%BD%AE%E5%B9%B6%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81"><span class="toc-number">3.2.</span> <span class="toc-text">问题的设置并运行代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%93%E8%AF%AD"><span class="toc-number">4.</span> <span class="toc-text">结语</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/27/visual-graphRag/" title="可视化GraphRag节点和社区">可视化GraphRag节点和社区</a><time datetime="2024-09-27T09:28:53.000Z" title="发表于 2024-09-27 17:28:53">2024-09-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/23/NEw/" title="利用Prompt实现推理链">利用Prompt实现推理链</a><time datetime="2024-09-23T13:26:57.000Z" title="发表于 2024-09-23 21:26:57">2024-09-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/23/ominiparse/" title="【MAGIC-PDF】OCR扫描实现PDF2Md">【MAGIC-PDF】OCR扫描实现PDF2Md</a><time datetime="2024-08-23T08:24:09.000Z" title="发表于 2024-08-23 16:24:09">2024-08-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/20/Graphrag-2/" title="【Graphrag】GR框架检索和webui化"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/carry121/pictures/raw/master//pictures/20240720170332.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【Graphrag】GR框架检索和webui化"/></a><div class="content"><a class="title" href="/2024/07/20/Graphrag-2/" title="【Graphrag】GR框架检索和webui化">【Graphrag】GR框架检索和webui化</a><time datetime="2024-07-20T07:54:09.000Z" title="发表于 2024-07-20 15:54:09">2024-07-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/18/graphrag-1/" title="【GraphRag】以知识图谱的方式建立知识库系统"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gitee.com/carry121/pictures/raw/master//pictures/20240804163439.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【GraphRag】以知识图谱的方式建立知识库系统"/></a><div class="content"><a class="title" href="/2024/07/18/graphrag-1/" title="【GraphRag】以知识图谱的方式建立知识库系统">【GraphRag】以知识图谱的方式建立知识库系统</a><time datetime="2024-07-18T14:32:07.000Z" title="发表于 2024-07-18 22:32:07">2024-07-18</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://gitee.com/carry121/pictures/raw/master//pictures/20240510174825.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By CARRY</div><div class="framework-info"><span>框架 </span><a href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script><script>(() => {
  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.delahayecarry.cn/',
      region: 'AWS / N. Virginia (us-east-1)',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.delahayecarry.cn/',
      region: 'AWS / N. Virginia (us-east-1)',
      onCommentLoaded: () => {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))

    GLOBAL_CONFIG_SITE.isPost && getCount()
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(init,0)
    else getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.31/dist/twikoo.all.min.js').then(init)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 190px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 160px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://p4.music.126.net/eAG-_g4t7mmIdZQO1PsXBA==/109951164483215843.jpg);"> <a class="categoryBar-list-link" href="categories/大模型运用/">大模型运用</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr">大模型运用</span></li><li class="categoryBar-list-item" style="background:url(https://p3.music.126.net/7f3bD3eEmz0KjRLuqsLV9g==/109951165718240862.jpg);"> <a class="categoryBar-list-link" href="categories/深度学习/">深度学习</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr">学习</span></li><li class="categoryBar-list-item" style="background:url(https://p3.music.126.net/NSSWXe7_mlbKpaM9sg5A6w==/109951168785989827.jpg);"> <a class="categoryBar-list-link" href="categories/机器学习算法/">机器学习算法</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">爬虫</span></li><li class="categoryBar-list-item" style="background:url(https://p4.music.126.net/mAUiNEfKqPe230qptWd6uA==/109951168988739342.jpg);"> <a class="categoryBar-list-link" href="categories/学习/">学习</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr">个人日记</span></li><li class="categoryBar-list-item" style="background:url(https://p3.music.126.net/EJHZAe8C3yYCSgba2oqnjw==/109951169445772816.jpg);"> <a class="categoryBar-list-link" href="categories/爬虫/">爬虫</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr">留给青宣</span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><!-- hexo injector body_end end --></body></html>